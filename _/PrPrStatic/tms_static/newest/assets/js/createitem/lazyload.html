<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<ul>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg' src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg'  src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg'  src='images/loading.gif'/></li>
    <li class='lazy'><img data-original='http://dh4.kimg.cn/v/upload/20160328/6240303866f9c21db1a4540296837366.jpg'  src='images/loading.gif'/></li>
</ul>
<script>
    window.onload= function () {

        function init() {
            var images = document.images;
            // 加载首屏图片
            for (var i = 0, len = images.length; i < len; i++) {
                var obj = images[i];
                // 如果在可视区域并且还没被加载过
                if (obj.getBoundingClientRect().top < document.documentElement.clientHeight && !obj.isLoad) {
                    obj.isLoad = true;
                    // 先调用 HTML5 方法
                    if (obj.dataset)
                        imageLoaded(obj, obj.dataset.original);
                    else
                        imageLoaded(obj, obj.getAttribute('data-original'));
                } else {  // 假设图片标签在 HTML 中的顺序和实际页面中顺序一致
                    break;
                }
            }
        }
        function imageLoaded(obj, src) {
            var img = new Image();
            img.onload = function() {
                obj.src = src;
            };
            img.src = src;
        }
        window.onscroll = function() {
            lazyload();
        };

        function lazyload() {
            var lazy = 0;
            var images = document.images;
            for (var i = 0, len = images.length; i < len; i++) {
                var obj = images[i];
                if (obj.getBoundingClientRect().top - lazy < document.documentElement.clientHeight && !obj.isLoad) {
                    obj.isLoad = true;
                    if (obj.dataset)
                        imageLoaded(obj, obj.dataset.original);
                    else
                        imageLoaded(obj, obj.getAttribute('data-original'));
                }
            }
        }
    }

</script>
</body>
</html>